import{r as o,_ as J,G as K,Q as W,a as t,U as r,R as X,c as Y,P as e,S as Z,V as $}from"./index-DfFeeYQG.js";import{g as ee,e as ne}from"./getRTLPlacement-qB0PPQ-d.js";var x=o.forwardRef(function(n,F){var M=n.children,v=n.animation,j=v===void 0?!0:v,q=n.className,L=n.container,V=n.content,g=n.delay,f=g===void 0?0:g,b=n.fallbackPlacements,A=b===void 0?["top","right","bottom","left"]:b,h=n.offset,B=h===void 0?[0,8]:h,y=n.onHide,P=n.onShow,k=n.placement,G=k===void 0?"top":k,d=n.popperConfig,I=n.title,w=n.trigger,i=w===void 0?"click":w,m=n.visible,Q=J(n,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","title","trigger","visible"]),a=o.useRef(null),s=o.useRef(null),U=K(F,a),C="popover".concat(o.useId()),E=o.useState(!1),l=E[0],T=E[1],R=o.useState(m),c=R[0],N=R[1],S=W(),_=S.initPopper,z=S.destroyPopper,H=typeof f=="number"?{show:f,hide:f}:f,O={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:A}},{name:"offset",options:{offset:B}}],placement:ee(G,s.current)},D=t(t({},O),typeof d=="function"?d(O):d);o.useEffect(function(){if(m){u();return}p()},[m]),o.useEffect(function(){if(l&&s.current&&a.current){_(s.current,a.current,D),setTimeout(function(){N(!0)},H.show);return}!l&&s.current&&a.current&&z()},[l]),o.useEffect(function(){!c&&s.current&&a.current&&ne(function(){T(!1)},a.current)},[c]);var u=function(){T(!0),P&&P()},p=function(){setTimeout(function(){N(!1),y&&y()},H.hide)};return r.createElement(r.Fragment,null,r.cloneElement(M,t(t(t(t(t({},c&&{"aria-describedby":C}),{ref:s}),(i==="click"||i.includes("click"))&&{onClick:function(){return c?p():u()}}),(i==="focus"||i.includes("focus"))&&{onFocus:function(){return u()},onBlur:function(){return p()}}),(i==="hover"||i.includes("hover"))&&{onMouseEnter:function(){return u()},onMouseLeave:function(){return p()}})),r.createElement(X,{container:L,portal:!0},l&&r.createElement("div",t({className:Y("popover","bs-popover-auto",{fade:j,show:c},q),id:C,ref:U,role:"tooltip"},Q),r.createElement("div",{className:"popover-arrow"}),r.createElement("div",{className:"popover-header"},I),r.createElement("div",{className:"popover-body"},V))))});x.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:$,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),title:e.oneOfType([e.string,e.node]),trigger:Z,visible:e.bool};x.displayName="CPopover";export{x as C};
