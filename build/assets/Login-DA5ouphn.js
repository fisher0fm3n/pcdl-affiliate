import{r as a,j as e,e as T,f as n,t as c,L as E,P as l}from"./index-DfFeeYQG.js";import{u as I}from"./useDocumentTitle-CUQ7wFV1.js";import{C as d,a as m}from"./CRow-CgW_BBhJ.js";import{C as P}from"./CCardGroup-B-ZwHIOM.js";import{C as p,a as u}from"./CCardBody-Q48HhPHk.js";import{C as k}from"./CForm-VfMvyHPb.js";import{C as x,a as h}from"./CInputGroupText-sF355Hht.js";import{c as R}from"./cil-user-Ddrdy7PS.js";import{C as j}from"./CFormInput-BK25bnbf.js";import{c as q}from"./cil-lock-locked-DmxpJbVL.js";import"./CFormControlWrapper-C7bdM9v9.js";import"./CFormControlValidation-CxORkMf_.js";import"./CFormLabel-34mx90Nn.js";function A({setToken:f,redirect:O}){I("Sign In | PCDL Solutions Specialists");const[C,g]=a.useState(""),[y,S]=a.useState(""),[b,i]=a.useState(""),[w,o]=a.useState(!1),[D,t]=a.useState(!1);async function N(r,s){return fetch("https://kwrrg8tuxj.execute-api.us-east-1.amazonaws.com/prod/specialists/signin",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Request-Method":"POST"},body:JSON.stringify({email:r,password:s})}).then(v=>v.json())}const L=async r=>{r.preventDefault(),t(!0);const s=await N(C,y);s.status?s.data.statusCode===300?(i("Incorrect password, please try again"),o(!0),t(!1)):s.data.errorType==="SSLError"?(i("This Email does not exist"),o(!0),t(!1)):s.data.statusCode===200&&(f(s.data),o(!1),t(!1),s.data.body.specialist_id===void 0&&console.log("hello")):(i("An error has occurred"),o(!0),t(!1))};return e.jsx("div",{className:"bg-body-tertiary min-h-[90vh] d-flex flex-row align-items-center",children:e.jsx(T,{children:e.jsx(d,{className:"justify-content-center",children:e.jsx(m,{md:8,children:e.jsxs(P,{children:[e.jsx(p,{className:"p-4",children:e.jsx(u,{children:e.jsxs(k,{onSubmit:L,children:[e.jsx("div",{className:"px-6 mt-6 pb-4 text-sm font-bold text-red-600",children:w?e.jsx("span",{children:b}):""}),e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsxs(x,{className:"mb-3",children:[e.jsx(h,{children:e.jsx(n,{icon:R})}),e.jsx(j,{placeholder:"Email",onChange:r=>g(r.target.value)})]}),e.jsxs(x,{className:"mb-4",children:[e.jsx(h,{children:e.jsx(n,{icon:q})}),e.jsx(j,{placeholder:"Password",onChange:r=>S(r.target.value),type:"password"})]}),e.jsx(d,{children:e.jsx(m,{xs:6,children:e.jsx(c,{type:"submit",color:"primary",className:"px-4",children:"Login"})})})]})})}),e.jsx(p,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(u,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),e.jsx(E,{to:"/register",children:e.jsx(c,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})}A.propTypes={setToken:l.func.isRequired,redirect:l.string.isRequired};export{A as default};
